---
import type { CountryData } from '../../utils/kv-pricing';

export interface Props {
  country: CountryData;
}

const { country } = Astro.props;
const startingPrice = country.providers.length > 0 ? Math.min(...country.providers.map(p => p.price)) : 0;
---

<!-- Hero Section -->
<section class="hero relative pt-[140px] pb-20 overflow-hidden">
  <div class="hero-gradient-bg absolute top-0 left-0 right-0 bottom-0 -z-10"></div>
  
  <div class="container mx-auto px-8">
    <div class="hero-content grid grid-cols-1 lg:grid-cols-5 gap-12 items-center">
      <div class="hero-text lg:col-span-3">
        <div class="hero-badge inline-flex items-center gap-2 px-6 py-2 bg-cyan/10 border border-cyan/30 rounded-full text-sm text-cyan font-medium mb-8">
          <span class="badge-dot w-2 h-2 bg-gradient-1 rounded-full animate-pulse-slow"></span>
          Direct carrier connections in {country.name}
        </div>
        
        <h1 class="hero-title text-4xl lg:text-6xl font-extrabold leading-tight mb-6 tracking-tight text-dynamic-primary">
          Send SMS to 
          <span class="gradient-text block">{country.name}</span>
        </h1>
        
        <p class="hero-subtitle text-xl text-dynamic-secondary leading-relaxed mb-8 max-w-[640px]">
          Connect with <span class="gradient-text">{country.mobileUsers}</span> mobile users through direct carrier connections. 
          Experience <span class="gradient-text">{country.stats.deliveryRate} delivery rates</span> with pricing from 
          <span class="gradient-text">{country.currency === 'EUR' ? 'â‚¬' : country.currency === 'GBP' ? 'Â£' : '$'}{startingPrice.toFixed(3)}</span> per message.
        </p>
        
        <div class="hero-actions flex flex-col sm:flex-row gap-4 mb-8">
          <a href="/signup" class="btn btn-primary btn-large">
            Start Free Trial
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M7 3L15 10L7 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
          <a href="#api" class="btn btn-secondary btn-large">
            View API Docs
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M3 7H21L19 12L21 17H3L5 12L3 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </div>
        
        <div class="hero-stats flex flex-wrap gap-8">
          <div class="stat-item">
            <div class="stat-value text-3xl lg:text-4xl font-bold gradient-text">{country.stats.deliveryRate}</div>
            <div class="stat-label text-sm text-dynamic-tertiary">Delivery Rate</div>
          </div>
          <div class="stat-item">
            <div class="stat-value text-3xl lg:text-4xl font-bold gradient-text">{country.networkCoverage}</div>
            <div class="stat-label text-sm text-dynamic-tertiary">Coverage</div>
          </div>
          <div class="stat-item">
            <div class="stat-value text-3xl lg:text-4xl font-bold gradient-text">{country.stats.responseTime}</div>
            <div class="stat-label text-sm text-dynamic-tertiary">Response Time</div>
          </div>
        </div>
      </div>
      
      <div class="hero-visual relative h-[600px] lg:col-span-2 hidden lg:flex items-center justify-center">
        <!-- Large Estonia flag background -->
        <div class="flag-background-container relative w-full h-full max-w-[500px]">
          <div class="flag-background absolute inset-0 rounded-3xl overflow-hidden">
            <img 
              src="https://smspm.com/sites/all/modules/smspm_pricefield/flags/Estonia.png" 
              alt="{country.name} Flag Background" 
              class="w-full h-full object-cover scale-150"
              loading="lazy"
            />
            <!-- Blurred mask overlay -->
            <div class="absolute inset-0 bg-gradient-to-r from-white/30 via-transparent to-white/20 backdrop-blur-[2px]"></div>
            <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/10 to-black/30"></div>
          </div>
          
          <!-- Floating stats positioned over the flag background -->
          <div class="floating-card absolute top-8 left-4 w-[180px] bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border border-white/30 rounded-2xl p-4 shadow-2xl animate-float">
            <div class="card-header flex justify-between items-center mb-2">
              <span class="card-icon text-lg">ðŸ“±</span>
              <span class="card-status px-2 py-1 bg-cyan/20 text-cyan rounded-lg text-xs font-semibold">Connected</span>
            </div>
            <div class="card-content">
              <p class="card-message text-sm text-gray-800 dark:text-gray-200 mb-1 font-medium">{country.mobileUsers} mobile users</p>
              <span class="card-time text-xs text-gray-600 dark:text-gray-400">Available now</span>
            </div>
          </div>
          
          <div class="floating-card absolute bottom-8 right-4 w-[200px] bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border border-white/30 rounded-2xl p-4 shadow-2xl animate-float" style="animation-delay: 2s;">
            <div class="card-header flex justify-between items-center mb-2">
              <span class="card-icon text-lg">âš¡</span>
              <span class="card-status delivered px-2 py-1 bg-green-500/20 text-green-600 rounded-lg text-xs font-semibold">Live</span>
            </div>
            <div class="card-content">
              <p class="card-message text-sm text-gray-800 dark:text-gray-200 mb-1 font-medium">Direct carrier routing</p>
              <span class="card-time text-xs text-gray-600 dark:text-gray-400">{country.stats.responseTime} response time</span>
            </div>
          </div>
          
          <div class="floating-card absolute top-1/2 right-0 transform translate-x-4 -translate-y-1/2 w-[160px] bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border border-white/30 rounded-2xl p-3 shadow-2xl animate-float" style="animation-delay: 4s;">
            <div class="chart-card">
              <div class="chart-header flex justify-between items-center mb-3 text-xs text-gray-600 dark:text-gray-400">
                <span>Delivery Rate</span>
                <span class="chart-value text-green-600 font-semibold">{country.stats.deliveryRate}</span>
              </div>
              <div class="chart-bars flex items-end gap-1 h-[50px]">
                <div class="chart-bar flex-1 rounded-sm bg-gradient-to-t from-cyan-400/60 to-cyan-400/30" style="height: 40%;"></div>
                <div class="chart-bar flex-1 rounded-sm bg-gradient-to-t from-cyan-400/60 to-cyan-400/30" style="height: 65%;"></div>
                <div class="chart-bar flex-1 rounded-sm bg-gradient-to-t from-cyan-400/60 to-cyan-400/30" style="height: 55%;"></div>
                <div class="chart-bar flex-1 rounded-sm bg-gradient-to-t from-cyan-400/60 to-cyan-400/30" style="height: 80%;"></div>
                <div class="chart-bar flex-1 rounded-sm bg-gradient-to-t from-cyan-400 to-cyan-500" style="height: 95%;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
